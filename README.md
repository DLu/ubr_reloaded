UBR-1 Preview
============

This repository is a preview of the UBR-1 robot, including simulation using
Gazebo.

UBR-1 Uses Standard ROS Interfaces
===========
The UBR-1 uses most of the standard ROS interfaces for interacting with user
code. This should make it easy to port code previously written for the PR2 or
other platforms to the UBR-1.

Standard inteferaces are defined by two key characteristics -- the standard ROS
message or action definition, which defines the messages used, and the namespace
in which the drivers subscribe to incoming messages or expose the action
interface. In each description below, we mention both the message or action type
as well as the namespace we use.

The robot arm and torso can be controlled through a standard
FollowJointTrajectoryAction. This action allows the robot to accept a pre-defined
trajectory, such as those generated by packages like MoveIt! There are three
joint trajectory actions available, for the use cases of arm alone, torso alone,
and arm + torso at the same time:

 * "control_msgs/FollowJointTrajectory" in namespace "arm_controller/follow_joint_trajectory"
   allows control of the seven joints of the arm. See the script "move_my_arm.py" in the
   ubr1_demo package.
 * "control_msgs/FollowJointTrajectory" in namepsace "arm_with_torso_controller/follow_joint_trajectory"
   allows control of the seven joints of the arm and the torso lift joint at the same time.
 * "control_msgs/FollowJointTrajectory" in namespace "torso_controlller/follow_joint_trajectory"
   allows control of the single joint of the torso lift.

More advanced controllers, such as Cartesian pose and wrench controllers, will
be available in the actual robot release, but are not included in this preview.

Similarly, the robot head can be controlled in several ways. As with the arm,
a joint trajectory can be sent through an action-based interface In addition,
the head has a "point head" interface that can focus the sensor on a point
of interest. Details:

 * "control_msgs/FollowJointTrajectory" in namespace "head_controller/follow_joint_trajectory"
   allows control of the head pan and tilt by a pre-defined trajectory. See the script
   "move_my_head.py" in the ubr1_demo package.
 * "control_msgs/PointHeadAction" is in namespace "head_controller/point_head".
   allows the pointing of the head sensor at a point of interest. See the script
   "point_my_head.py" in the ubr1_demo package.

On the real UBR-1, the gripper is a modularity point and can be swapped out. The
simulator only simulates the default gripper at this time. The default gripper
uses a standard "control_msgs/GripperAction" action interface. This is in the
namespace 

The robot base takes a geometry_msgs/Twist, the standard ROS interface for
controlling a mobile base. This topic is not an action, and is available in the
namespace "base_controller/command". This message interface allows the UBR-1 to
interact with standard software packages in ROS like the Navigation stack.
See the "move_my_base.py" script in ubr1_demos for details of direct control,
or check out the navigation demo for full navigation stack integration.

Finally, the last standard interface to be aware of is the sensors. Robots would
not be very good at their jobs if they did not have sensors! The primary sensors
of the UBR-1 are the head-mounted RGBD camera, and the base-mounted laser. 

 * The laser outputs a standard sensor_msgs/LaserScan message at 40hz on the
   topic "base_scan" just like the real robot.
 * The head camera outputs several messages:
   * TODO

In addition to the sensors listed, each joint is a sensor and outputs joint
position. As with most ROS robots, UBR-1 outputs a standard "sensors_msgs/JointState"
message on the topic "joint_states". This includes position, velocity and effort
for each joint in the robot, and is updated at 100hz, just like the real robot.

Running the Demos
===========
TODO

Differences From The Real Robot
===========
The simulator does not at this time expose the IMUs that would be present in both
the robot base and the gripper in the real UBR-1.

The head_camera/depth topics (XYZ only, no RGB) do not exist in the simulator.

Limitations & Warnings
===========
This repository is only a preview of the robot. The meshes contained within
the ubr1_description package are not final, may change in the final release
and will certainly be tuned for size and appearance before the final release.

This repository is currently designed to be used with ROS Hydro and
Gazebo 1.9. When the UBR-1 ships in the second half of 2014, it will ship with
ROS Indigo and this repository will be deprecated.
